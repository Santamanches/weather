(function(){"use strict";var e={5631:function(e,t,n){var r=n(9242),a=n(3396);const i={key:0,class:"container"};function o(e,t,n,r,o,s){const c=(0,a.up)("Navbar"),u=(0,a.up)("Main");return e.weather?((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(c),(0,a.Wm)(u)])):(0,a.kq)("",!0)}var s=n.p+"img/logo.af34f1a1.svg",c=n.p+"img/kaplya.ee4f4542.svg";const u={class:"nav"},l=(0,a._)("a",{href:"#",class:"logo"},[(0,a._)("img",{src:s,alt:""}),(0,a._)("span",{class:"logo__span"},"vue weather")],-1),m={class:"nav__search"},g=(0,a._)("img",{src:c,alt:""},null,-1);function p(e,t,n,i,o,s){return(0,a.wg)(),(0,a.iD)("nav",u,[l,(0,a._)("div",m,[g,(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Выбрать город",class:"nav__search-input","onUpdate:modelValue":t[0]||(t[0]=e=>s.getCity=e),onKeydown:t[1]||(t[1]=(0,r.D2)((t=>e.getWeather(s.getCity)),["enter"]))},null,544),[[r.nr,s.getCity]])])])}var d=n(65),h={computed:{...(0,d.rn)(["city"]),getCity:{get(){return this.city},set(e){this.setCity(e)}}},methods:{...(0,d.OI)(["setCity"]),...(0,d.nv)(["getWeather"])}},f=n(89);const w=(0,f.Z)(h,[["render",p]]);var _=w;const v={class:"main"};function y(e,t,n,r,i,o){const s=(0,a.up)("MainContent"),c=(0,a.up)("MainWeek");return(0,a.wg)(),(0,a.iD)("main",v,[(0,a.Wm)(s),(0,a.Wm)(c)])}var k=n(7139),b=n.p+"img/headerBg.876cb9ef.svg";const D={class:"main__content"},x={class:"main__content-left"},C={class:"main__content-left-degree"},W=(0,a._)("p",{class:"main__content-left-today"},"Сегодня",-1),M={class:"main__content-left-time"},O={class:"main__content-left-city"},z=["src"],$={class:"main__content-right"},Z=(0,a._)("img",{src:b,alt:"",class:"main__content-right-bg"},null,-1),j={class:"main__content-right-item-img"},K=["src"];function L(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",D,[(0,a._)("div",x,[(0,a._)("p",C,(0,k.zw)(Math.round(e.weather.current.temp))+"°",1),W,(0,a._)("p",M,"Время: "+(0,k.zw)(o.getTime),1),(0,a._)("p",O,"Город: "+(0,k.zw)(e.weather.name.toUpperCase()),1),(0,a._)("img",{src:o.getImg,alt:"",class:"main__content-left-img"},null,8,z)]),(0,a._)("div",$,[Z,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.content,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"main__content-right-item",key:e.name},[(0,a._)("div",j,[(0,a._)("img",{src:e.img,alt:""},null,8,K)]),(0,a._)("span",null,(0,k.zw)(e.name),1),(0,a._)("p",null,(0,k.zw)(e.info),1)])))),128))])])}const T={"дымка":n(2831),"ясно":n(5056),"небольшая облачность":n(5590),"пасмурно":n(5590),"облачно с прояснениями":n(8782),"небольшой дождь":n(7570),"дождь":n(7669),"переменная облачность":n(5590)};var I={computed:{...(0,d.rn)(["weather"]),getTime(){return(new Date).toLocaleString("ru-Ru",{timeZone:this.weather.timezone,timeStyle:"short",hourCycle:"h23"})},description(){return this.weather.current.weather[0].description},getImg(){return T[this.description]||T["пасмурно"]},content(){return[{img:n(9221),name:"Температура",info:`${Math.round(this.weather.current.temp)}° - ощущается как ${Math.round(this.weather.current.feels_like)}°`},{img:n(8481),name:"Давление",info:`${this.weather.current.pressure} мм ртутного столба - нормальное`},{img:n(7162),name:"Облочность",info:`${this.weather.current.clouds}%`},{img:n(4529),name:"Ветер",info:`${this.weather.current.wind_speed}м/с`}]}}};const S=(0,f.Z)(I,[["render",L]]);var R=S;const q={class:"main__week"};function H(e,t,n,r,i,o){const s=(0,a.up)("Day");return(0,a.wg)(),(0,a.iD)("div",q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.weather.daily,((e,t)=>((0,a.wg)(),(0,a.j4)(s,{key:t,day:e},null,8,["day"])))),128))])}const N={class:"main__week-item"},P={class:"main__week-item-weekday"},U={class:"main__week-item-month"},Y=["src"],B={class:"main__week-item-temp"},E={class:"main__week-item-info"};function F(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("div",N,[(0,a._)("p",P,(0,k.zw)(o.getWeekDay),1),(0,a._)("p",U,(0,k.zw)(o.getDay)+" "+(0,k.zw)(o.getMonth),1),(0,a._)("img",{src:o.getImg,alt:"",class:"main__week-item-img"},null,8,Y),(0,a._)("p",B,(0,k.zw)(Math.round(n.day.temp.max))+"°",1),(0,a._)("p",E,(0,k.zw)(n.day.weather[0].description),1)])}function V(e,t){const n=1e3*e,r=new Date(n);let a="weekday"==t?r.toLocaleString("ru-Ru",{weekday:"short"}):"day"==t?r.toLocaleString("ru-Ru",{day:"numeric"}):"month"==t?r.toLocaleString("ru-Ru",{month:"long"}):"";return a}var A={props:{day:{type:Object}},computed:{getImg(){return T[this.day.weather[0].description]||T["пасмурно"]},getWeekDay(){return V(this.day.dt,"weekday")},getDay(){return V(this.day.dt,"day")},getMonth(){return V(this.day.dt,"month")}}};const G=(0,f.Z)(A,[["render",F]]);var J=G,Q={components:{Day:J},computed:{...(0,d.rn)(["weather"])}};const X=(0,f.Z)(Q,[["render",H]]);var ee=X,te={components:{MainContent:R,MainWeek:ee}};const ne=(0,f.Z)(te,[["render",y]]);var re=ne,ae={components:{Navbar:_,Main:re},created(){setTimeout((()=>{this.getWeather("Нью-Йорк")}),1e3)},computed:{...(0,d.rn)(["weather"])},methods:{...(0,d.nv)(["getWeather"])}};const ie=(0,f.Z)(ae,[["render",o]]);var oe=ie,se=n(4161),ce=(0,d.MT)({state:{city:"",weather:null,apiKey:"3c9333a1a3a40ca893996cbeb44b7022"},mutations:{setCity(e,t){e.city=t},getWeather(e,t){e.weather=t,e.city=""}},actions:{async getWeather(e,t){try{let n=await se.Z.get(`http://api.openweathermap.org/geo/1.0/direct?q=${t}&appid=${e.state.apiKey}`),{lat:r,lon:a,local_names:i}=n.data[0];if(i.ru.toLowerCase()==t.toLowerCase()){let n=await se.Z.get(`https://api.openweathermap.org/data/2.8/onecall?lat=${r}&lon=${a}&exclude=minutely,hourly,alerts&appid=${e.state.apiKey}&units=metric&lang=ru`),i={...n.data,name:t};e.commit("getWeather",i)}}catch(n){console.error("Ошибка произошла при получении данных о погоде "+n)}}},getters:{}});(0,r.ri)(oe).use(ce).mount("#app")},5590:function(e,t,n){e.exports=n.p+"img/cloud.26d56e75.svg"},8481:function(e,t,n){e.exports=n.p+"img/davlenie.dec93a4d.svg"},2831:function(e,t,n){e.exports=n.p+"img/minicloud.7c004874.svg"},7570:function(e,t,n){e.exports=n.p+"img/minirain.8f5c4cf8.svg"},7162:function(e,t,n){e.exports=n.p+"img/osadki.47e1d1f6.svg"},7669:function(e,t,n){e.exports=n.p+"img/rain.433b1bf8.svg"},5056:function(e,t,n){e.exports=n.p+"img/sun.a17a0e02.svg"},8782:function(e,t,n){e.exports=n.p+"img/sunrain.d758b9b6.svg"},9221:function(e,t,n){e.exports=n.p+"img/temp.5012f3aa.svg"},4529:function(e,t,n){e.exports=n.p+"img/wind.e3f8caaa.svg"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,i){if(!r){var o=1/0;for(l=0;l<e.length;l++){r=e[l][0],a=e[l][1],i=e[l][2];for(var s=!0,c=0;c<r.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(l--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/weather/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],s=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var l=c(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(l)},r=self["webpackChunkweather"]=self["webpackChunkweather"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(5631)}));r=n.O(r)})();
//# sourceMappingURL=app.750d6cea.js.map